<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="833px" preserveAspectRatio="none" style="width:2804px;height:833px;" version="1.1" viewBox="0 0 2804 833" width="2804px" zoomAndPan="magnify"><defs><filter height="300%" id="f1846ry04g8c5e" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[121a8bf1197281ab89ed693fab589f94]
cluster Domain--><polygon fill="#FFFFFF" filter="url(#f1846ry04g8c5e)" points="16,6,80,6,87,28.2969,1314,28.2969,1314,821.5,16,821.5,16,6" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="16" x2="87" y1="28.2969" y2="28.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="58" x="20" y="20.9951">Domain</text><!--MD5=[6b385001c4f3617d03642392151bc788]
cluster ConsoleWritingVisitor--><polygon fill="#FFFFFF" filter="url(#f1846ry04g8c5e)" points="1504,25,1691,25,1698,47.2969,2782,47.2969,2782,457,1504,457,1504,25" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1504" x2="1698" y1="47.2969" y2="47.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="181" x="1508" y="39.9951">Console Writing Visitor</text><!--MD5=[8ada129bb4198a547e67af6471c3336a]
class ProductTypeValueKeys--><rect codeLine="2" fill="#FEFECE" filter="url(#f1846ry04g8c5e)" height="86.4141" id="ProductTypeValueKeys" style="stroke: #A80036; stroke-width: 1.5;" width="345" x="732.5" y="363"/><ellipse cx="830.25" cy="379" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M833.2188,384.6406 Q832.6406,384.9375 832,385.0781 Q831.3594,385.2344 830.6563,385.2344 Q828.1563,385.2344 826.8281,383.5938 Q825.5156,381.9375 825.5156,378.8125 Q825.5156,375.6875 826.8281,374.0313 Q828.1563,372.375 830.6563,372.375 Q831.3594,372.375 832,372.5313 Q832.6563,372.6875 833.2188,372.9844 L833.2188,375.7031 Q832.5938,375.125 832,374.8594 Q831.4063,374.5781 830.7813,374.5781 Q829.4375,374.5781 828.75,375.6563 Q828.0625,376.7188 828.0625,378.8125 Q828.0625,380.9063 828.75,381.9844 Q829.4375,383.0469 830.7813,383.0469 Q831.4063,383.0469 832,382.7813 Q832.5938,382.5 833.2188,381.9219 L833.2188,384.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="141" x="850.75" y="383.1543">ProductTypeValueKeys</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="733.5" x2="1076.5" y1="395" y2="395"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="733.5" x2="1076.5" y1="403" y2="403"/><ellipse cx="743.5" cy="414" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="319" x="752.5" y="417.2104">List&lt;string&gt; SearchValidProductTypeKey(string, int = 1)</text><ellipse cx="743.5" cy="426.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82" x="752.5" y="430.0151">AddKey(string)</text><ellipse cx="743.5" cy="439.6094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="119" x="752.5" y="442.8198">AddKey(ProductType)</text><path d="M685.5,95.5 L685.5,120.6328 A0,0 0 0 0 685.5,120.6328 L901,120.6328 L905,362.9865 L909,120.6328 L1124.5,120.6328 A0,0 0 0 0 1124.5,120.6328 L1124.5,105.5 L1114.5,95.5 L685.5,95.5 A0,0 0 0 0 685.5,95.5 " fill="#FBFB77" filter="url(#f1846ry04g8c5e)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1114.5,95.5 L1114.5,105.5 L1124.5,105.5 L1114.5,95.5 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="418" x="691.5" y="112.5669">ProductTypeValueKeys uses a BK Tree to store Product Type keys</text><!--MD5=[671947cd442c358d71518ac250abe6fc]
class PurchaseEntity--><rect codeLine="11" fill="#FEFECE" filter="url(#f1846ry04g8c5e)" height="99.2188" id="PurchaseEntity" style="stroke: #A80036; stroke-width: 1.5;" width="369" x="24.5" y="356.5"/><ellipse cx="157.75" cy="372.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M160.7188,378.1406 Q160.1406,378.4375 159.5,378.5781 Q158.8594,378.7344 158.1563,378.7344 Q155.6563,378.7344 154.3281,377.0938 Q153.0156,375.4375 153.0156,372.3125 Q153.0156,369.1875 154.3281,367.5313 Q155.6563,365.875 158.1563,365.875 Q158.8594,365.875 159.5,366.0313 Q160.1563,366.1875 160.7188,366.4844 L160.7188,369.2031 Q160.0938,368.625 159.5,368.3594 Q158.9063,368.0781 158.2813,368.0781 Q156.9375,368.0781 156.25,369.1563 Q155.5625,370.2188 155.5625,372.3125 Q155.5625,374.4063 156.25,375.4844 Q156.9375,376.5469 158.2813,376.5469 Q158.9063,376.5469 159.5,376.2813 Q160.0938,376 160.7188,375.4219 L160.7188,378.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="94" x="178.25" y="376.6543">PurchaseEntity</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="25.5" x2="392.5" y1="388.5" y2="388.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="122" x="30.5" y="402.7104">DateTime Timestamp</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="93" x="30.5" y="415.5151">string Customer</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="144" x="30.5" y="428.3198">BarcodeValue[] Barcodes</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="25.5" x2="392.5" y1="434.9141" y2="434.9141"/><ellipse cx="35.5" cy="445.9141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="343" x="44.5" y="449.1245">Task&lt;PurchaseEntity&gt; CreateFromStream(Stream) «async»</text><path d="M429,386 L429,402 L393.6055,406 L429,410 L429,426.2656 A0,0 0 0 0 429,426.2656 L697,426.2656 A0,0 0 0 0 697,426.2656 L697,396 L687,386 L429,386 A0,0 0 0 0 429,386 " fill="#FBFB77" filter="url(#f1846ry04g8c5e)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M687,386 L687,396 L697,396 L687,386 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="247" x="435" y="403.0669">Timestamp is in the format MMDDYYYY</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="451" y="418.1997">It is a char[8] in the file.</text><!--MD5=[e8fc92d1581ef7678cd836c92e5acb27]
class PurchaseAggregate--><rect codeLine="23" fill="#FEFECE" filter="url(#f1846ry04g8c5e)" height="112.0234" id="PurchaseAggregate" style="stroke: #A80036; stroke-width: 1.5;" width="412" x="24" y="52"/><ellipse cx="163.25" cy="68" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M166.2188,73.6406 Q165.6406,73.9375 165,74.0781 Q164.3594,74.2344 163.6563,74.2344 Q161.1563,74.2344 159.8281,72.5938 Q158.5156,70.9375 158.5156,67.8125 Q158.5156,64.6875 159.8281,63.0313 Q161.1563,61.375 163.6563,61.375 Q164.3594,61.375 165,61.5313 Q165.6563,61.6875 166.2188,61.9844 L166.2188,64.7031 Q165.5938,64.125 165,63.8594 Q164.4063,63.5781 163.7813,63.5781 Q162.4375,63.5781 161.75,64.6563 Q161.0625,65.7188 161.0625,67.8125 Q161.0625,69.9063 161.75,70.9844 Q162.4375,72.0469 163.7813,72.0469 Q164.4063,72.0469 165,71.7813 Q165.5938,71.5 166.2188,70.9219 L166.2188,73.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="125" x="183.75" y="72.1543">PurchaseAggregate</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="25" x2="435" y1="84" y2="84"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="141" x="30" y="98.2104">PurchaseEntity Purchase</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="25" x2="435" y1="104.8047" y2="104.8047"/><ellipse cx="35" cy="115.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="286" x="44" y="119.0151">PurchaseAggregate(PurchaseEntity) «constructor»</text><ellipse cx="35" cy="128.6094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="145" x="44" y="131.8198">UniqueId[] GetUniqueIds()</text><ellipse cx="35" cy="141.4141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="386" x="44" y="144.6245">IGrouping&lt;string, BarcodeValue&gt; GetMostCommonProductByType()</text><ellipse cx="35" cy="154.2188" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="295" x="44" y="157.4292">ProductSubtype[] GetProductSubtypes(ProductType)</text><!--MD5=[1df63dfd86191f66658c3ff5ac07bcec]
class char4--><rect codeLine="32" fill="#FEFECE" filter="url(#f1846ry04g8c5e)" height="48" id="char4" style="stroke: #A80036; stroke-width: 1.5;" width="78" x="628" y="765.5"/><ellipse cx="643" cy="781.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M645.9688,787.1406 Q645.3906,787.4375 644.75,787.5781 Q644.1094,787.7344 643.4063,787.7344 Q640.9063,787.7344 639.5781,786.0938 Q638.2656,784.4375 638.2656,781.3125 Q638.2656,778.1875 639.5781,776.5313 Q640.9063,774.875 643.4063,774.875 Q644.1094,774.875 644.75,775.0313 Q645.4063,775.1875 645.9688,775.4844 L645.9688,778.2031 Q645.3438,777.625 644.75,777.3594 Q644.1563,777.0781 643.5313,777.0781 Q642.1875,777.0781 641.5,778.1563 Q640.8125,779.2188 640.8125,781.3125 Q640.8125,783.4063 641.5,784.4844 Q642.1875,785.5469 643.5313,785.5469 Q644.1563,785.5469 644.75,785.2813 Q645.3438,785 645.9688,784.4219 L645.9688,787.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="46" x="657" y="785.6543">char[4]</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="629" x2="705" y1="797.5" y2="797.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="629" x2="705" y1="805.5" y2="805.5"/><!--MD5=[d414c1439478ec690b063dc882792ba0]
class char6--><rect codeLine="33" fill="#FEFECE" filter="url(#f1846ry04g8c5e)" height="48" id="char6" style="stroke: #A80036; stroke-width: 1.5;" width="78" x="1201" y="765.5"/><ellipse cx="1216" cy="781.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1218.9688,787.1406 Q1218.3906,787.4375 1217.75,787.5781 Q1217.1094,787.7344 1216.4063,787.7344 Q1213.9063,787.7344 1212.5781,786.0938 Q1211.2656,784.4375 1211.2656,781.3125 Q1211.2656,778.1875 1212.5781,776.5313 Q1213.9063,774.875 1216.4063,774.875 Q1217.1094,774.875 1217.75,775.0313 Q1218.4063,775.1875 1218.9688,775.4844 L1218.9688,778.2031 Q1218.3438,777.625 1217.75,777.3594 Q1217.1563,777.0781 1216.5313,777.0781 Q1215.1875,777.0781 1214.5,778.1563 Q1213.8125,779.2188 1213.8125,781.3125 Q1213.8125,783.4063 1214.5,784.4844 Q1215.1875,785.5469 1216.5313,785.5469 Q1217.1563,785.5469 1217.75,785.2813 Q1218.3438,785 1218.9688,784.4219 L1218.9688,787.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="46" x="1230" y="785.6543">char[6]</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1202" x2="1278" y1="797.5" y2="797.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1202" x2="1278" y1="805.5" y2="805.5"/><!--MD5=[90f7b85f4a131ee50bce9a03488a6151]
class char20--><rect codeLine="34" fill="#FEFECE" filter="url(#f1846ry04g8c5e)" height="48" id="char20" style="stroke: #A80036; stroke-width: 1.5;" width="86" x="758" y="765.5"/><ellipse cx="773" cy="781.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M775.9688,787.1406 Q775.3906,787.4375 774.75,787.5781 Q774.1094,787.7344 773.4063,787.7344 Q770.9063,787.7344 769.5781,786.0938 Q768.2656,784.4375 768.2656,781.3125 Q768.2656,778.1875 769.5781,776.5313 Q770.9063,774.875 773.4063,774.875 Q774.1094,774.875 774.75,775.0313 Q775.4063,775.1875 775.9688,775.4844 L775.9688,778.2031 Q775.3438,777.625 774.75,777.3594 Q774.1563,777.0781 773.5313,777.0781 Q772.1875,777.0781 771.5,778.1563 Q770.8125,779.2188 770.8125,781.3125 Q770.8125,783.4063 771.5,784.4844 Q772.1875,785.5469 773.5313,785.5469 Q774.1563,785.5469 774.75,785.2813 Q775.3438,785 775.9688,784.4219 L775.9688,787.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="54" x="787" y="785.6543">char[20]</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="759" x2="843" y1="797.5" y2="797.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="759" x2="843" y1="805.5" y2="805.5"/><!--MD5=[7cb0288c84a1b86723f24458faac24ec]
class ProductType--><rect fill="#FEFECE" filter="url(#f1846ry04g8c5e)" height="48" id="ProductType" style="stroke: #A80036; stroke-width: 1.5;" width="110" x="612" y="594.5"/><ellipse cx="627" cy="610.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M629.9688,616.1406 Q629.3906,616.4375 628.75,616.5781 Q628.1094,616.7344 627.4063,616.7344 Q624.9063,616.7344 623.5781,615.0938 Q622.2656,613.4375 622.2656,610.3125 Q622.2656,607.1875 623.5781,605.5313 Q624.9063,603.875 627.4063,603.875 Q628.1094,603.875 628.75,604.0313 Q629.4063,604.1875 629.9688,604.4844 L629.9688,607.2031 Q629.3438,606.625 628.75,606.3594 Q628.1563,606.0781 627.5313,606.0781 Q626.1875,606.0781 625.5,607.1563 Q624.8125,608.2188 624.8125,610.3125 Q624.8125,612.4063 625.5,613.4844 Q626.1875,614.5469 627.5313,614.5469 Q628.1563,614.5469 628.75,614.2813 Q629.3438,614 629.9688,613.4219 L629.9688,616.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="78" x="641" y="614.6543">ProductType</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="613" x2="721" y1="626.5" y2="626.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="613" x2="721" y1="634.5" y2="634.5"/><!--MD5=[4eab479a2f4c54ed0e7d5fe4b7c80dcd]
class ProductSubtype--><rect fill="#FEFECE" filter="url(#f1846ry04g8c5e)" height="48" id="ProductSubtype" style="stroke: #A80036; stroke-width: 1.5;" width="132" x="1174" y="594.5"/><ellipse cx="1189" cy="610.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1191.9688,616.1406 Q1191.3906,616.4375 1190.75,616.5781 Q1190.1094,616.7344 1189.4063,616.7344 Q1186.9063,616.7344 1185.5781,615.0938 Q1184.2656,613.4375 1184.2656,610.3125 Q1184.2656,607.1875 1185.5781,605.5313 Q1186.9063,603.875 1189.4063,603.875 Q1190.1094,603.875 1190.75,604.0313 Q1191.4063,604.1875 1191.9688,604.4844 L1191.9688,607.2031 Q1191.3438,606.625 1190.75,606.3594 Q1190.1563,606.0781 1189.5313,606.0781 Q1188.1875,606.0781 1187.5,607.1563 Q1186.8125,608.2188 1186.8125,610.3125 Q1186.8125,612.4063 1187.5,613.4844 Q1188.1875,614.5469 1189.5313,614.5469 Q1190.1563,614.5469 1190.75,614.2813 Q1191.3438,614 1191.9688,613.4219 L1191.9688,616.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="100" x="1203" y="614.6543">ProductSubtype</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1175" x2="1305" y1="626.5" y2="626.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1175" x2="1305" y1="634.5" y2="634.5"/><!--MD5=[4687303e4a020900352916a83efd4817]
class UniqueId--><rect fill="#FEFECE" filter="url(#f1846ry04g8c5e)" height="48" id="UniqueId" style="stroke: #A80036; stroke-width: 1.5;" width="87" x="757.5" y="594.5"/><ellipse cx="772.5" cy="610.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M775.4688,616.1406 Q774.8906,616.4375 774.25,616.5781 Q773.6094,616.7344 772.9063,616.7344 Q770.4063,616.7344 769.0781,615.0938 Q767.7656,613.4375 767.7656,610.3125 Q767.7656,607.1875 769.0781,605.5313 Q770.4063,603.875 772.9063,603.875 Q773.6094,603.875 774.25,604.0313 Q774.9063,604.1875 775.4688,604.4844 L775.4688,607.2031 Q774.8438,606.625 774.25,606.3594 Q773.6563,606.0781 773.0313,606.0781 Q771.6875,606.0781 771,607.1563 Q770.3125,608.2188 770.3125,610.3125 Q770.3125,612.4063 771,613.4844 Q771.6875,614.5469 773.0313,614.5469 Q773.6563,614.5469 774.25,614.2813 Q774.8438,614 775.4688,613.4219 L775.4688,616.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="55" x="786.5" y="614.6543">UniqueId</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="758.5" x2="843.5" y1="626.5" y2="626.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="758.5" x2="843.5" y1="634.5" y2="634.5"/><path d="M879.5,598.5 L879.5,638.7656 A0,0 0 0 0 879.5,638.7656 L1138.5,638.7656 A0,0 0 0 0 1138.5,638.7656 L1138.5,622.5 L1173.6777,618.5 L1138.5,614.5 L1138.5,608.5 L1128.5,598.5 L879.5,598.5 A0,0 0 0 0 879.5,598.5 " fill="#FBFB77" filter="url(#f1846ry04g8c5e)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1128.5,598.5 L1128.5,608.5 L1138.5,608.5 L1128.5,598.5 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="238" x="885.5" y="615.5669">Each of these char[] types is a string,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="188" x="901.5" y="630.6997">this is just to denote the size.</text><!--MD5=[2ec478639462d171230d7bee6ac3d8ea]
class BarcodeValue--><rect codeLine="44" fill="#FEFECE" filter="url(#f1846ry04g8c5e)" height="86.4141" id="BarcodeValue" style="stroke: #A80036; stroke-width: 1.5;" width="194" x="1112" y="363"/><ellipse cx="1161.25" cy="379" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1164.2188,384.6406 Q1163.6406,384.9375 1163,385.0781 Q1162.3594,385.2344 1161.6563,385.2344 Q1159.1563,385.2344 1157.8281,383.5938 Q1156.5156,381.9375 1156.5156,378.8125 Q1156.5156,375.6875 1157.8281,374.0313 Q1159.1563,372.375 1161.6563,372.375 Q1162.3594,372.375 1163,372.5313 Q1163.6563,372.6875 1164.2188,372.9844 L1164.2188,375.7031 Q1163.5938,375.125 1163,374.8594 Q1162.4063,374.5781 1161.7813,374.5781 Q1160.4375,374.5781 1159.75,375.6563 Q1159.0625,376.7188 1159.0625,378.8125 Q1159.0625,380.9063 1159.75,381.9844 Q1160.4375,383.0469 1161.7813,383.0469 Q1162.4063,383.0469 1163,382.7813 Q1163.5938,382.5 1164.2188,381.9219 L1164.2188,384.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="87" x="1181.75" y="383.1543">BarcodeValue</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1113" x2="1305" y1="395" y2="395"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="144" x="1118" y="409.2104">ProductType ProductType</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="182" x="1118" y="422.0151">ProductSubtype ProductSubtype</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="63" x="1118" y="434.8198">UniqueId Id</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1113" x2="1305" y1="441.4141" y2="441.4141"/><!--MD5=[86b19e389e6533d37437225d9ce7df37]
class IVisitor--><rect codeLine="62" fill="#FEFECE" filter="url(#f1846ry04g8c5e)" height="60.8047" id="IVisitor" style="stroke: #A80036; stroke-width: 1.5;" width="156" x="2553" y="77.5"/><ellipse cx="2600.25" cy="93.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M2596.1719,89.2656 L2596.1719,87.1094 L2603.5625,87.1094 L2603.5625,89.2656 L2601.0938,89.2656 L2601.0938,97.3438 L2603.5625,97.3438 L2603.5625,99.5 L2596.1719,99.5 L2596.1719,97.3438 L2598.6406,97.3438 L2598.6406,89.2656 L2596.1719,89.2656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="42" x="2620.75" y="97.6543">IVisitor</text><rect fill="#FFFFFF" height="15.9688" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="9" x="2703" y="74.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="7" x="2704" y="86.6387">T</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="2554" x2="2708" y1="109.5" y2="109.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="2554" x2="2708" y1="117.5" y2="117.5"/><ellipse cx="2564" cy="128.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="130" x="2573" y="131.7104">void Visit(T dispatcher)</text><!--MD5=[ae21fa64f84a5a056c2b93bd8f6d5066]
class ConsoleWritingVisitor--><rect codeLine="65" fill="#FEFECE" filter="url(#f1846ry04g8c5e)" height="86.4141" id="ConsoleWritingVisitor" style="stroke: #A80036; stroke-width: 1.5;" width="286" x="2488" y="363"/><ellipse cx="2560.75" cy="379" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M2563.7188,384.6406 Q2563.1406,384.9375 2562.5,385.0781 Q2561.8594,385.2344 2561.1563,385.2344 Q2558.6563,385.2344 2557.3281,383.5938 Q2556.0156,381.9375 2556.0156,378.8125 Q2556.0156,375.6875 2557.3281,374.0313 Q2558.6563,372.375 2561.1563,372.375 Q2561.8594,372.375 2562.5,372.5313 Q2563.1563,372.6875 2563.7188,372.9844 L2563.7188,375.7031 Q2563.0938,375.125 2562.5,374.8594 Q2561.9063,374.5781 2561.2813,374.5781 Q2559.9375,374.5781 2559.25,375.6563 Q2558.5625,376.7188 2558.5625,378.8125 Q2558.5625,380.9063 2559.25,381.9844 Q2559.9375,383.0469 2561.2813,383.0469 Q2561.9063,383.0469 2562.5,382.7813 Q2563.0938,382.5 2563.7188,381.9219 L2563.7188,384.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="132" x="2581.25" y="383.1543">ConsoleWritingVisitor</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="2489" x2="2773" y1="395" y2="395"/><ellipse cx="2499" cy="406" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="2508" y="409.2104">T ConsoleWriter</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="2489" x2="2773" y1="415.8047" y2="415.8047"/><ellipse cx="2499" cy="426.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="260" x="2508" y="430.0151">ConsoleWritingVisitor(IConsole) «constructor»</text><ellipse cx="2499" cy="439.6094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="165" x="2508" y="442.8198">void WriteLine(ConsoleWriter)</text><!--MD5=[36120d38c3c5e6d394cdde41f27bbdec]
class ConsoleWriter--><rect codeLine="70" fill="#FEFECE" filter="url(#f1846ry04g8c5e)" height="73.6094" id="ConsoleWriter" style="stroke: #A80036; stroke-width: 1.5;" width="257" x="1870.5" y="71"/><ellipse cx="1951.25" cy="87" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1951.3594,82.3438 L1950.2031,87.4219 L1952.5313,87.4219 L1951.3594,82.3438 Z M1949.875,80.1094 L1952.8594,80.1094 L1956.2188,92.5 L1953.7656,92.5 L1953,89.4375 L1949.7188,89.4375 L1948.9688,92.5 L1946.5313,92.5 L1949.875,80.1094 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="87" x="1971.75" y="91.1543">ConsoleWriter</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1871.5" x2="2126.5" y1="103" y2="103"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1871.5" x2="2126.5" y1="111" y2="111"/><ellipse cx="1881.5" cy="122" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="231" x="1890.5" y="125.2104">virtual void Accept(ConsoleWritingVisitor)</text><ellipse cx="1881.5" cy="134.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="103" x="1890.5" y="138.0151">string GetOutput()</text><!--MD5=[f84a7603388ecfcaabebd4ae11b078e2]
class PurchaseSummary--><rect codeLine="74" fill="#FEFECE" filter="url(#f1846ry04g8c5e)" height="73.6094" id="PurchaseSummary" style="stroke: #A80036; stroke-width: 1.5;" width="309" x="1511.5" y="369"/><ellipse cx="1603.75" cy="385" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1606.7188,390.6406 Q1606.1406,390.9375 1605.5,391.0781 Q1604.8594,391.2344 1604.1563,391.2344 Q1601.6563,391.2344 1600.3281,389.5938 Q1599.0156,387.9375 1599.0156,384.8125 Q1599.0156,381.6875 1600.3281,380.0313 Q1601.6563,378.375 1604.1563,378.375 Q1604.8594,378.375 1605.5,378.5313 Q1606.1563,378.6875 1606.7188,378.9844 L1606.7188,381.7031 Q1606.0938,381.125 1605.5,380.8594 Q1604.9063,380.5781 1604.2813,380.5781 Q1602.9375,380.5781 1602.25,381.6563 Q1601.5625,382.7188 1601.5625,384.8125 Q1601.5625,386.9063 1602.25,387.9844 Q1602.9375,389.0469 1604.2813,389.0469 Q1604.9063,389.0469 1605.5,388.7813 Q1606.0938,388.5 1606.7188,387.9219 L1606.7188,390.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="116" x="1624.25" y="389.1543">PurchaseSummary</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1512.5" x2="1819.5" y1="401" y2="401"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1512.5" x2="1819.5" y1="409" y2="409"/><ellipse cx="1522.5" cy="420" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="283" x="1531.5" y="423.2104">PurchaseSummary(PurchaseEntity) «constructor»</text><ellipse cx="1522.5" cy="432.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="154" x="1531.5" y="436.0151">override string GetOutput()</text><!--MD5=[3d9bec551640ffb4a026cc7c78c25b79]
class PurchaseDetail--><rect codeLine="78" fill="#FEFECE" filter="url(#f1846ry04g8c5e)" height="73.6094" id="PurchaseDetail" style="stroke: #A80036; stroke-width: 1.5;" width="286" x="1856" y="369"/><ellipse cx="1947.25" cy="385" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1950.2188,390.6406 Q1949.6406,390.9375 1949,391.0781 Q1948.3594,391.2344 1947.6563,391.2344 Q1945.1563,391.2344 1943.8281,389.5938 Q1942.5156,387.9375 1942.5156,384.8125 Q1942.5156,381.6875 1943.8281,380.0313 Q1945.1563,378.375 1947.6563,378.375 Q1948.3594,378.375 1949,378.5313 Q1949.6563,378.6875 1950.2188,378.9844 L1950.2188,381.7031 Q1949.5938,381.125 1949,380.8594 Q1948.4063,380.5781 1947.7813,380.5781 Q1946.4375,380.5781 1945.75,381.6563 Q1945.0625,382.7188 1945.0625,384.8125 Q1945.0625,386.9063 1945.75,387.9844 Q1946.4375,389.0469 1947.7813,389.0469 Q1948.4063,389.0469 1949,388.7813 Q1949.5938,388.5 1950.2188,387.9219 L1950.2188,390.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="95" x="1967.75" y="389.1543">PurchaseDetail</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1857" x2="2141" y1="401" y2="401"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1857" x2="2141" y1="409" y2="409"/><ellipse cx="1867" cy="420" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="260" x="1876" y="423.2104">PurchaseDetail(PurchaseEntity) «constructor»</text><ellipse cx="1867" cy="432.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="154" x="1876" y="436.0151">override string GetOutput()</text><!--MD5=[8edae02333a394e76688f1dca16fb3ec]
class ProductDetail--><rect codeLine="82" fill="#FEFECE" filter="url(#f1846ry04g8c5e)" height="73.6094" id="ProductDetail" style="stroke: #A80036; stroke-width: 1.5;" width="276" x="2177" y="369"/><ellipse cx="2268.25" cy="385" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M2271.2188,390.6406 Q2270.6406,390.9375 2270,391.0781 Q2269.3594,391.2344 2268.6563,391.2344 Q2266.1563,391.2344 2264.8281,389.5938 Q2263.5156,387.9375 2263.5156,384.8125 Q2263.5156,381.6875 2264.8281,380.0313 Q2266.1563,378.375 2268.6563,378.375 Q2269.3594,378.375 2270,378.5313 Q2270.6563,378.6875 2271.2188,378.9844 L2271.2188,381.7031 Q2270.5938,381.125 2270,380.8594 Q2269.4063,380.5781 2268.7813,380.5781 Q2267.4375,380.5781 2266.75,381.6563 Q2266.0625,382.7188 2266.0625,384.8125 Q2266.0625,386.9063 2266.75,387.9844 Q2267.4375,389.0469 2268.7813,389.0469 Q2269.4063,389.0469 2270,388.7813 Q2270.5938,388.5 2271.2188,387.9219 L2271.2188,390.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="85" x="2288.75" y="389.1543">ProductDetail</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="2178" x2="2452" y1="401" y2="401"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="2178" x2="2452" y1="409" y2="409"/><ellipse cx="2188" cy="420" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="250" x="2197" y="423.2104">ProductDetail(PurchaseEntity) «constructor»</text><ellipse cx="2188" cy="432.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="154" x="2197" y="436.0151">override string GetOutput()</text><!--MD5=[c01569e7ded71ea4a063b110f6016e3c]
class IConsole--><rect codeLine="88" fill="#FEFECE" filter="url(#f1846ry04g8c5e)" height="124.8281" id="IConsole" style="stroke: #A80036; stroke-width: 1.5;" width="173" x="1322.5" y="45.5"/><ellipse cx="1378.25" cy="61.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1374.1719,57.2656 L1374.1719,55.1094 L1381.5625,55.1094 L1381.5625,57.2656 L1379.0938,57.2656 L1379.0938,65.3438 L1381.5625,65.3438 L1381.5625,67.5 L1374.1719,67.5 L1374.1719,65.3438 L1376.6406,65.3438 L1376.6406,57.2656 L1374.1719,57.2656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="53" x="1398.75" y="65.6543">IConsole</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1323.5" x2="1494.5" y1="77.5" y2="77.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1323.5" x2="1494.5" y1="85.5" y2="85.5"/><ellipse cx="1333.5" cy="96.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="1342.5" y="99.7104">void Write(string)</text><ellipse cx="1333.5" cy="109.3047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="1342.5" y="112.5151">void WriteLine()</text><ellipse cx="1333.5" cy="122.1094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="119" x="1342.5" y="125.3198">void WriteLine(string)</text><ellipse cx="1333.5" cy="134.9141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="147" x="1342.5" y="138.1245">ConsoleKeyInfo ReadKey()</text><ellipse cx="1333.5" cy="147.7188" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="54" x="1342.5" y="150.9292">int Read()</text><ellipse cx="1333.5" cy="160.5234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="1342.5" y="163.7339">string ReadLine()</text><!--MD5=[aa8e55af2e0414e495966bc62a8d0991]
class ConsoleWrapper--><rect codeLine="98" fill="#FEFECE" filter="url(#f1846ry04g8c5e)" height="48" id="ConsoleWrapper" style="stroke: #A80036; stroke-width: 1.5;" width="135" x="1341.5" y="231.5"/><ellipse cx="1356.5" cy="247.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1359.4688,253.1406 Q1358.8906,253.4375 1358.25,253.5781 Q1357.6094,253.7344 1356.9063,253.7344 Q1354.4063,253.7344 1353.0781,252.0938 Q1351.7656,250.4375 1351.7656,247.3125 Q1351.7656,244.1875 1353.0781,242.5313 Q1354.4063,240.875 1356.9063,240.875 Q1357.6094,240.875 1358.25,241.0313 Q1358.9063,241.1875 1359.4688,241.4844 L1359.4688,244.2031 Q1358.8438,243.625 1358.25,243.3594 Q1357.6563,243.0781 1357.0313,243.0781 Q1355.6875,243.0781 1355,244.1563 Q1354.3125,245.2188 1354.3125,247.3125 Q1354.3125,249.4063 1355,250.4844 Q1355.6875,251.5469 1357.0313,251.5469 Q1357.6563,251.5469 1358.25,251.2813 Q1358.8438,251 1359.4688,250.4219 L1359.4688,253.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="103" x="1370.5" y="251.6543">ConsoleWrapper</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1342.5" x2="1475.5" y1="263.5" y2="263.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1342.5" x2="1475.5" y1="271.5" y2="271.5"/><!--MD5=[112a80c0b29926b21c2c69743f7c09e0]
reverse link ProductType to char4--><path codeLine="36" d="M667,662.8182 C667,695.5762 667,738.9301 667,765.4853 " fill="none" id="ProductType-backto-char4" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="660.0001,662.6375,667,642.6374,674.0001,662.6374,660.0001,662.6375" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[cbe2690a0de983202134487b4cc7da17]
reverse link ProductSubtype to char6--><path codeLine="37" d="M1240,662.8182 C1240,695.5762 1240,738.9301 1240,765.4853 " fill="none" id="ProductSubtype-backto-char6" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1233.0001,662.6375,1240,642.6374,1247.0001,662.6374,1233.0001,662.6375" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[8d6543b5890c3d6e45995fbe42792881]
reverse link UniqueId to char20--><path codeLine="38" d="M801,662.8182 C801,695.5762 801,738.9301 801,765.4853 " fill="none" id="UniqueId-backto-char20" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="794.0001,662.6375,801,642.6374,808.0001,662.6374,794.0001,662.6375" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[e4570c0606611bf1dc7c9a037391ac9e]
reverse link BarcodeValue to ProductType--><path codeLine="50" d="M1101.7723,454.2268 C1099.4978,455.1666 1097.2384,456.0921 1095,457 C1023.5349,485.9869 1004.2113,489.4254 932,516.5 C859.2988,543.7583 775.7481,576.0844 722.2163,596.925 " fill="none" id="BarcodeValue-backto-ProductType" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1114.0443,449.0829,1106.9644,447.7134,1102.9772,453.7219,1110.0571,455.0914,1114.0443,449.0829" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="23" x="933" y="529.5669">has</text><!--MD5=[90e469feedf07599cda631b88783a1ef]
reverse link BarcodeValue to ProductSubtype--><path codeLine="51" d="M1217.1905,462.1444 C1223.4701,505.1905 1231.8259,562.4679 1236.483,594.3917 " fill="none" id="BarcodeValue-backto-ProductSubtype" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1215.2733,449.0025,1212.1814,455.5171,1217.0057,460.8768,1220.0976,454.3622,1215.2733,449.0025" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="23" x="1229" y="529.5669">has</text><!--MD5=[5935fb1481616f24c150c3c948a492c7]
reverse link BarcodeValue to UniqueId--><path codeLine="52" d="M1114.6906,455.1195 C1029.6879,499.3917 908.5226,562.4986 844.5061,595.8406 " fill="none" id="BarcodeValue-backto-UniqueId" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1126.4351,449.0025,1119.2659,448.2265,1115.7921,454.5457,1122.9614,455.3218,1126.4351,449.0025" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="23" x="998" y="529.5669">has</text><!--MD5=[2cc88220f73664126485077115d845cd]
reverse link ProductTypeValueKeys to ProductType--><path codeLine="54" d="M835.6285,457.139 C812.2724,475.194 786.4549,496.0946 764,516.5 C736.3294,541.6451 707.0861,573.1676 688.0337,594.4629 " fill="none" id="ProductTypeValueKeys-backto-ProductType" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="846.1656,449.0558,838.9704,449.5341,836.6445,456.3598,843.8397,455.8815,846.1656,449.0558" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="765" y="529.5669">has many</text><!--MD5=[84e03a7594d8772ae95a0ef04d630b96]
reverse link PurchaseEntity to BarcodeValue--><path codeLine="56" d="M406.7017,357.1598 C408.1388,356.9346 409.5718,356.7146 411,356.5 C661.2822,318.8916 726.5144,330.8364 979.5,323.5 C1008.3767,322.6626 1016.388,316.8456 1044.5,323.5 C1077.922,331.4113 1112.2818,347.2259 1140.8983,362.9113 " fill="none" id="PurchaseEntity-backto-BarcodeValue" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="393.6679,359.3194,400.2411,362.2847,405.5065,357.3577,398.9333,354.3924,393.6679,359.3194" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="980.5" y="322.5669">has many</text><!--MD5=[1cf9afa4dd37f77dbb4d68c3c1c6e1ec]
reverse link PurchaseAggregate to PurchaseEntity--><path codeLine="58" d="M225.1265,177.1576 C221.2665,231.9319 215.967,307.1355 212.5134,356.1425 " fill="none" id="PurchaseAggregate-backto-PurchaseEntity" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="226.0501,164.0515,221.6382,169.7555,225.2065,176.0218,229.6184,170.3178,226.0501,164.0515" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="223" y="260.0669">has many</text><!--MD5=[e01b120e2483213b75a55ffa1dd99736]
reverse link IVisitor to ConsoleWritingVisitor--><path d="M2631,158.9342 C2631,216.4262 2631,308.9582 2631,362.9741 " fill="none" id="IVisitor-backto-ConsoleWritingVisitor" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="2624.0001,158.7689,2631,138.7688,2638.0001,158.7688,2624.0001,158.7689" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[7d55b6789105fbd62e973c632a7ba11f]
reverse link ConsoleWriter to PurchaseSummary--><path d="M1942.3401,158.7047 C1875.7189,218.3236 1766.7363,315.8516 1707.5001,368.8618 " fill="none" id="ConsoleWriter-backto-PurchaseSummary" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1937.9269,153.2603,1957.4986,145.1394,1947.263,163.6929,1937.9269,153.2603" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[d4af3fd20c2d1feea02d77f2b594118b]
reverse link ConsoleWriter to PurchaseDetail--><path d="M1999,165.2619 C1999,225.262 1999,317.7528 1999,368.8618 " fill="none" id="ConsoleWriter-backto-PurchaseDetail" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1992.0001,165.1394,1999,145.1394,2006.0001,165.1393,1992.0001,165.1394" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[71ee829baca855899cfafb6d8f353145]
reverse link ConsoleWriter to ProductDetail--><path d="M2053.1681,159.0825 C2116.4236,218.7349 2219.525,315.9634 2275.6186,368.8618 " fill="none" id="ConsoleWriter-backto-ProductDetail" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="2048.1306,163.9537,2038.3827,145.1394,2057.7358,153.7684,2048.1306,163.9537" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[a774bf9ec26b1865b231c5f1624b428b]
reverse link IConsole to ConsoleWrapper--><path d="M1409,190.6202 C1409,205.5531 1409,219.9936 1409,231.445 " fill="none" id="IConsole-backto-ConsoleWrapper" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="1402.0001,190.5533,1409,170.5533,1416.0001,190.5532,1402.0001,190.5533" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[1ce69ded85341fec6a3e3a958936e583]
@startuml
package "Domain" as Domain {
    class ProductTypeValueKeys {
        +List<string> SearchValidProductTypeKey(string, int = 1)
        +AddKey(string)
        +AddKey(ProductType)
    }
    note top
    ProductTypeValueKeys uses a BK Tree to store Product Type keys
    end note

    class PurchaseEntity {
        DateTime Timestamp
        string Customer
        BarcodeValue[] Barcodes
        - -
        {static} +Task<PurchaseEntity> CreateFromStream(Stream) <<async>>
    }
    note left
    Timestamp is in the format MMDDYYYY
        It is a char[8] in the file.
    end note

    class PurchaseAggregate {
        PurchaseEntity Purchase
        - -
        +PurchaseAggregate(PurchaseEntity) <<constructor>>
        +UniqueId[] GetUniqueIds()
        +IGrouping<string, BarcodeValue> GetMostCommonProductByType()
        +ProductSubtype[] GetProductSubtypes(ProductType)
    }

    class "char[4]" as char4
    class "char[6]" as char6
    class "char[20]" as char20

    ProductType <|- - char4
    ProductSubtype <|- - char6
    UniqueId <|- - char20
    note left of ProductSubtype
    Each of these char[] types is a string,
        this is just to denote the size.
    end note

    class BarcodeValue {
        ProductType ProductType
        ProductSubtype ProductSubtype
        UniqueId Id
    }

    BarcodeValue *- - ProductType : has
    BarcodeValue *- - ProductSubtype : has
    BarcodeValue *- - UniqueId : has

    ProductTypeValueKeys *- - ProductType : has many

    PurchaseEntity *- BarcodeValue : has many

    PurchaseAggregate *- - PurchaseEntity : has many
}

package "Console Writing Visitor" as ConsoleWritingVisitor {
    interface IVisitor<T> {
        +void Visit(T dispatcher)
    }
    class ConsoleWritingVisitor implements IVisitor {
        +T ConsoleWriter
        +ConsoleWritingVisitor(IConsole) <<constructor>>
        +void WriteLine(ConsoleWriter)
    }
    abstract class ConsoleWriter {
        +virtual void Accept(ConsoleWritingVisitor)
        +{abstract} string GetOutput()
    }
    class PurchaseSummary extends ConsoleWriter {
        +PurchaseSummary(PurchaseEntity) <<constructor>>
        +override string GetOutput()
    }
    class PurchaseDetail extends ConsoleWriter {
        +PurchaseDetail(PurchaseEntity) <<constructor>>
        +override string GetOutput()
    }
    class ProductDetail extends ConsoleWriter {
        +ProductDetail(PurchaseEntity) <<constructor>>
        +override string GetOutput()
    }
}

interface IConsole {
    +void Write(string)
    +void WriteLine()
    +void WriteLine(string)
    +ConsoleKeyInfo ReadKey()
    +int Read()
    +string ReadLine()

}

class ConsoleWrapper implements IConsole
@enduml

PlantUML version 1.2020.16(Sun Aug 23 20:20:43 UTC 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>